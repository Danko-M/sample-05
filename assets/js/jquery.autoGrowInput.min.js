!function(t){t.fn.autoGrowInput=function(e){return e=t.extend({maxWidth:1e3,minWidth:0,comfortZone:70},e),this.filter("input:text").each(function(){var i=e.minWidth||t(this).width(),n="",o=t(this),a=t("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:o.css("fontSize"),fontFamily:o.css("fontFamily"),fontWeight:o.css("fontWeight"),letterSpacing:o.css("letterSpacing"),whiteSpace:"nowrap"}),r=function(){if(n!==(n=o.val())){var t=n.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");a.html(t);var r=a.width(),h=r+e.comfortZone>=i?r+e.comfortZone:i,c=o.width(),s=c>h&&h>=i||h>i&&h<e.maxWidth;!s&&h>i&&h>e.maxWidth&&(h=e.maxWidth,s=!0),s&&o.width(h)}};a.insertAfter(o),t(this).bind("keyup keydown blur update",r),r()}),this}}(jQuery);